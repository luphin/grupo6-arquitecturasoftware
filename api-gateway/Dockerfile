FROM node:18-alpine

WORKDIR /app

# Paso 1: Copiar e instalar dependencias
COPY package*.json ./
RUN npm install --production 

# üö® CAMBIO CR√çTICO: Copiar expl√≠citamente el archivo de inicio
# Esto asegura que si el COPY . . falla, al menos server.js est√° presente.
COPY server.js ./ 

EXPOSE 8080
CMD ["node", "server.js"]
